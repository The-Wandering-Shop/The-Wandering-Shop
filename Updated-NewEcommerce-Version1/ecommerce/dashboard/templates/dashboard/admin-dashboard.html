{% extends 'core/base.html' %}

{% block title%}{{ item.name }}{% endblock %}

{% block content %}
    
<div class="flex justify-center items-center">
    <a href="{% url 'dashboard:new' %}" class=" bg-red-500 my-10 text-white px-4 py-2 rounded">Add New Product</a>
</div>

 <table class="min-w-full border border-gray-900">
    <thead>
        <tr class="bg-gray-200">
            <th class="px-4 py-2 border">Category</th>
            <th class="px-4 py-2 border">Item Name</th>
            <th class="px-4 py-2 border">Price</th>
            <th class="px-4 py-2 border">Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for product in products %}
        <tr class="border-t">
            <td class="px-4 py-2 border text-center">{{ product.category }}</td>
            <td class="px-4 py-2 border text-center">{{ product.name }}</td>
            <td class="px-4 py-2 border text-center">R {{ product.price }}</td>
            <td class="px-4 py-2 border text-center ">
                <div class="flex flex-col sm:flex-row sm:justify-center gap-2">
                    {% if request.user.is_superuser or request.user.is_staff %}
                        <a href="{% url 'dashboard:edit' product.id %}" class="bg-teal-500 text-white px-4 py-2 rounded">Edit</a>
                        <a href="{% url 'dashboard:delete' product.id %}" class="bg-red-500 text-white px-4 py-2 rounded">Delete</a>
                    {% endif %}
                </div>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<div class="flex justify-center items-center">
    <form method="post" action="{% url 'user:logout' %}">
        {% csrf_token %}
        <button type="submit" class=" bg-red-500 my-10 text-white px-4 py-2 rounded">
            Logout
        </button>
    </form>
</div>

    
{% endblock %}